(this["webpackJsonpi-music"]=this["webpackJsonpi-music"]||[]).push([[0],{48:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(25),s=n.n(c),i=n(5),o=n.n(i),l=n(7),u=n(4),j=n(12),d=n.n(j),b=n(3),O=(n(48),n(14)),p=n(10),x=n(0),g=function(e){var t=e.currSong,n=e.setCurrSong,r=e.allSongs,c=e.setAllSongs,s=e.isplaying,i=e.setIsplaying,u=e.audioRef,j=e.time,d=e.setTime,g=function(e){return Math.floor(e/60)+":"+("0"+Math.floor(e%60)).slice(-2)},h=function(){var e=Object(l.a)(o.a.mark((function e(a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r.findIndex((function(e){return e._id===t._id})),"next"!==a){e.next=4;break}return e.next=4,n(r[(c+1)%r.length]);case 4:if("prev"!==a){e.next=12;break}if(c-1!==-1){e.next=10;break}return e.next=8,n(r[r.length-1]);case 8:e.next=12;break;case 10:return e.next=12,n(r[(c-1)%r.length]);case 12:s&&u.current.play();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=r.map((function(e){return e._id===t._id?Object(b.a)(Object(b.a)({},e),{},{active:!0}):Object(b.a)(Object(b.a)({},e),{},{active:!1})}));c(e)}),[t]);var f={width:"".concat(j.animation,"%"),background:"linear-gradient(to right, ".concat(t.color[0],", ").concat(t.color[1],")")};return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"CurrentSongControls",children:[Object(x.jsxs)("div",{className:"TimeStamp",children:[Object(x.jsx)("p",{children:g(j.current)}),Object(x.jsxs)("div",{className:"track",children:[Object(x.jsx)("input",{min:0,max:j.duration||0,value:j.current,onChange:function(e){u.current.currentTime=e.target.value,d(Object(b.a)(Object(b.a)({},j),{},{current:e.target.value}))},type:"range"}),Object(x.jsx)("div",{style:f,className:"trackAnim"})]}),Object(x.jsx)("p",{children:j.duration?g(j.duration):"0:00"})]}),Object(x.jsxs)("div",{className:"MediaControls",children:[Object(x.jsx)(O.a,{onClick:function(){return h("prev")},className:"prev",size:"2x",icon:p.a}),Object(x.jsx)(O.a,{onClick:function(){s?(u.current.pause(),i(!s)):(u.current.play(),i(!s))},className:"play",size:"2x",icon:s?p.c:p.d}),Object(x.jsx)(O.a,{onClick:function(){return h("next")},className:"next",size:"2x",icon:p.b})]})]})})},h=function(e){var t=e.currSong;return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"CurrentSongPlayingInfo",children:[Object(x.jsx)("img",{src:t.cover,alt:""}),Object(x.jsx)("h2",{children:t.name}),Object(x.jsx)("h3",{children:t.artist})]})})},f=function(e){var t=e.allSongs,n=e.setAllSongs,a=e.currSong,r=e.setCurrSong,c=e.isplaying,s=e.setIsplaying,i=e.audioRef,o=e.time,l=e.setTime,u=e.libraryUpdater,j=e.setLibraryUpdater,d=e.addSongsPane,b=e.setAddSongsPane,O={background:"linear-gradient(to bottom, #fff, ".concat(a.color[1],")")};return Object(x.jsxs)("div",{className:"AppContainer",children:[Object(x.jsxs)("div",{onClick:function(){u&&j(!u),d&&b(!d)},className:"App ".concat(u?"maincomponent":""),children:[Object(x.jsx)(h,{currSong:a}),Object(x.jsx)(g,{currSong:a,isplaying:c,setIsplaying:s,audioRef:i,time:o,setTime:l,allSongs:t,setAllSongs:n,setCurrSong:r})]}),Object(x.jsx)("div",{style:O,className:"bgGrad"})]})},v=function(e){var t=e.song,n=e.setAllSongs,a=e.setCurrSong,r=e.allSongs,c=e.audioRef,s=e.isplaying,i=e.setIsplaying,u=(e.filterStatus,function(){var e=Object(l.a)(o.a.mark((function e(){var l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t,e.next=3,a(l);case 3:u=r.map((function(e){return e._id===t._id?Object(b.a)(Object(b.a)({},e),{},{active:!0}):Object(b.a)(Object(b.a)({},e),{},{active:!1})})),n(u),s||i(!s),c.current.play();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(x.jsxs)("div",{onClick:u,className:"librarySong ".concat(t.active?"selectedLibrary":""),children:[Object(x.jsx)("img",{src:t.cover,alt:""}),Object(x.jsxs)("div",{className:"songdesc",children:[Object(x.jsx)("h3",{children:t.name}),Object(x.jsx)("h4",{children:t.artist})]})]})},m=function(e){var t=e.allSongs,n=e.setAllSongs,a=e.setCurrSong,r=e.audioRef,c=e.isplaying,s=e.setIsplaying,i=e.libraryUpdater,o=e.setFilterStatus;e.filterStatus;return Object(x.jsxs)("div",{className:"library ".concat(i?"activelibrary":""),children:[Object(x.jsx)("h2",{children:"Library"}),Object(x.jsx)("div",{className:"select",children:Object(x.jsxs)("select",{onChange:function(e){o(e.target.value)},name:"songSelection",className:"selectionClass",children:[Object(x.jsx)("option",{value:"all",children:"All"}),Object(x.jsx)("option",{value:"en",children:"English"}),Object(x.jsx)("option",{value:"jp",children:"Japanese"})]})}),Object(x.jsx)("div",{className:"individualLibraryComponent",children:t.map((function(e){return Object(x.jsx)(v,{song:e,setCurrSong:a,allSongs:t,audioRef:r,isplaying:c,setIsplaying:s,setAllSongs:n},e._id)}))})]})},S=n(57),y=n(58),C=function(e){var t=e.libraryUpdater,n=e.setLibraryUpdater,a=e.addSongsPane,r=e.setAddSongsPane;return Object(x.jsxs)("nav",{children:[Object(x.jsx)("h1",{children:"iMusic"}),Object(x.jsxs)("div",{className:"btn",children:[Object(x.jsx)("button",{onClick:function(){r(!a)},children:Object(x.jsx)(S.a,{})}),Object(x.jsx)("button",{onClick:function(){n(!t)},children:Object(x.jsx)(y.a,{})})]})]})},k=function(e){var t=e.addSongsPane,n=Object(a.useState)(""),r=Object(u.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),j=Object(u.a)(i,2),b=j[0],O=j[1],p=Object(a.useState)(""),g=Object(u.a)(p,2),h=g[0],f=g[1],v=Object(a.useState)(""),m=Object(u.a)(v,2),S=m[0],y=m[1],C=Object(a.useState)(""),k=Object(u.a)(C,2),N=k[0],A=k[1],w=Object(a.useState)(""),q=Object(u.a)(w,2),P=q[0],I=q[1],B=Object(a.useState)("en"),U=Object(u.a)(B,2),L=U[0],R=U[1],_=Object(a.useState)(""),T=Object(u.a)(_,2),E=T[0],M=T[1],F=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={name:c,cover:b,artist:h,audio:S,color:[N,P],lang:L},"Qwerty@21"!==E){e.next=16;break}return e.next=6,d.a.post("https://imusic-rest-api.herokuapp.com/",n);case 6:alert("Song Added to DB"),s(""),O(""),f(""),y(""),A(""),I(""),M(""),e.next=24;break;case 16:alert("You are not authenticated to add Songs."),s(""),O(""),f(""),y(""),A(""),I(""),M("");case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"container ".concat(t?"containerShow":""),children:[Object(x.jsx)("h2",{children:"Add Songs"}),Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"inputBox",children:[Object(x.jsx)("input",{type:"text",name:"pass",required:"required",onChange:function(e){M(e.target.value)},value:E}),Object(x.jsx)("label",{children:"Password"})]}),Object(x.jsxs)("div",{className:"inputBox",children:[Object(x.jsx)("input",{type:"text",name:"name",required:"required",onChange:function(e){s(e.target.value)},value:c}),Object(x.jsx)("label",{children:"Song Name"})]}),Object(x.jsxs)("div",{className:"inputBox",children:[Object(x.jsx)("input",{type:"text",name:"cover",required:"required",onChange:function(e){O(e.target.value)},value:b}),Object(x.jsx)("label",{children:"Cover Image"})]}),Object(x.jsxs)("div",{className:"inputBox",children:[Object(x.jsx)("input",{type:"text",name:"artist",required:"required",onChange:function(e){f(e.target.value)},value:h}),Object(x.jsx)("label",{children:"Artist Name"})]}),Object(x.jsxs)("div",{className:"inputBox",children:[Object(x.jsx)("input",{type:"text",name:"audio",required:"required",onChange:function(e){y(e.target.value)},value:S}),Object(x.jsx)("label",{children:"Audio Link"})]}),Object(x.jsxs)("div",{className:"inputBox",children:[Object(x.jsx)("input",{type:"text",name:"color1",required:"required",onChange:function(e){A(e.target.value)},value:N}),Object(x.jsx)("label",{children:"Primary Color"})]}),Object(x.jsxs)("div",{className:"inputBox",children:[Object(x.jsx)("input",{type:"text",name:"color2",required:"required",onChange:function(e){I(e.target.value)},value:P}),Object(x.jsx)("label",{children:"Secondary Color"})]}),Object(x.jsxs)("div",{className:"selBox",children:[Object(x.jsx)("label",{children:"Select language: "}),Object(x.jsxs)("select",{name:"lang",id:"currsem",className:"select",onChange:function(e){R(e.target.value)},children:[Object(x.jsx)("option",{value:"en",children:"English"}),Object(x.jsx)("option",{value:"jp",children:"Japanese"})]})]}),Object(x.jsx)("input",{type:"submit",value:"Push to DB",onClick:F})]})]})},N=function(e){var t=e.fetchedSongs,n=Object(a.useState)(t),r=Object(u.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)("all"),j=Object(u.a)(i,2),d=j[0],O=j[1],p=Object(a.useState)(c[0]),g=Object(u.a)(p,2),h=g[0],v=g[1],S=Object(a.useState)(!1),y=Object(u.a)(S,2),N=y[0],A=y[1],w=Object(a.useState)({current:0,duration:0,animation:0}),q=Object(u.a)(w,2),P=q[0],I=q[1],B=Object(a.useState)(!1),U=Object(u.a)(B,2),L=U[0],R=U[1],_=Object(a.useState)(!1),T=Object(u.a)(_,2),E=T[0],M=T[1],F=function(e){var t=e.target.currentTime,n=e.target.duration,a=t/n*100;I(Object(b.a)(Object(b.a)({},P),{},{current:t,duration:n,animation:a}))},J=Object(a.useRef)(null),z=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.findIndex((function(e){return e._id===h._id})),e.next=3,v(c[(t+1)%c.length]);case 3:N&&J.current.play();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){!function(){switch(d){case"jp":s(t.filter((function(e){return"jp"===e.lang})));break;case"en":s(t.filter((function(e){return"en"===e.lang})));break;default:s(t)}}()}),[d]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(C,{libraryUpdater:L,setLibraryUpdater:R,addSongsPane:E,setAddSongsPane:M}),Object(x.jsx)(f,{allSongs:c,setAllSongs:s,currSong:h,setCurrSong:v,isplaying:N,setIsplaying:A,audioRef:J,time:P,setTime:I,libraryUpdater:L,setLibraryUpdater:R,addSongsPane:E,setAddSongsPane:M}),Object(x.jsx)(m,{allSongs:c,setCurrSong:v,audioRef:J,isplaying:N,setIsplaying:A,setAllSongs:s,libraryUpdater:L,setFilterStatus:O}),Object(x.jsx)("audio",{ref:J,src:h.audio,onTimeUpdate:F,onLoadedMetadata:F,onEnded:z}),Object(x.jsx)(k,{addSongsPane:E})]})},A=function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){c()}),[]);var c=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("https://imusic-rest-api.herokuapp.com/");case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:n&&Object(x.jsx)(N,{fetchedSongs:n})})};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(A,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.99472239.chunk.js.map